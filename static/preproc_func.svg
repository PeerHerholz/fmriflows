<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: preproc_func Pages: 1 -->
<svg width="499pt" height="805pt"
 viewBox="0.00 0.00 499.11 805.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 801.441)">
<title>preproc_func</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-801.441 495.109,-801.441 495.109,4 -4,4"/>
<g id="clust1" class="cluster"><title>cluster_preproc_func</title>
<polygon fill="#b4b4ff" stroke="black" points="8,-8 8,-789.441 473,-789.441 473,-8 8,-8"/>
</g>
<g id="clust2" class="cluster"><title>cluster_prepareflow</title>
<polygon fill="#ffb4b4" stroke="black" points="16,-616.701 16,-781.441 433,-781.441 433,-616.701 16,-616.701"/>
<text text-anchor="start" x="169.5" y="-767.241" font-family="Times,serif" font-weight="bold" font-size="14.00">Prepare Workflow</text>
</g>
<g id="clust3" class="cluster"><title>cluster_coregflow</title>
<polygon fill="#ffb4b4" stroke="black" points="33,-344.48 33,-526.96 243,-526.96 243,-344.48 33,-344.48"/>
<text text-anchor="start" x="64" y="-512.76" font-family="Times,serif" font-weight="bold" font-size="14.00">Coregistration Workflow</text>
</g>
<g id="clust4" class="cluster"><title>cluster_filterflow</title>
<polygon fill="#ffb4b4" stroke="black" points="83,-16 83,-254.74 309,-254.74 309,-16 83,-16"/>
<text text-anchor="start" x="148" y="-240.54" font-family="Times,serif" font-weight="bold" font-size="14.00">Filter Workflow</text>
</g>
<!-- motion_estimation -->
<g id="node1" class="node"><title>motion_estimation</title>
<ellipse fill="#e6e6ff" stroke="black" cx="282" cy="-561.831" rx="77.1494" ry="26.7407"/>
<text text-anchor="middle" x="282" y="-565.631" font-family="Times,serif" font-size="14.00">Estimate Motion</text>
<text text-anchor="middle" x="282" y="-550.631" font-family="Times,serif" font-size="14.00">Parameter (FSL)</text>
</g>
<!-- motion_parameters -->
<g id="node2" class="node"><title>motion_parameters</title>
<ellipse fill="#e6e6ff" stroke="black" cx="354" cy="-469.09" rx="90.5193" ry="26.7407"/>
<text text-anchor="middle" x="354" y="-472.89" font-family="Times,serif" font-size="14.00">Create New Motion</text>
<text text-anchor="middle" x="354" y="-457.89" font-family="Times,serif" font-size="14.00">Parameters (Python)</text>
</g>
<!-- motion_estimation&#45;&gt;motion_parameters -->
<g id="edge13" class="edge"><title>motion_estimation&#45;&gt;motion_parameters</title>
<path fill="none" stroke="#0000ff" d="M302.056,-535.554C309.948,-525.609 319.12,-514.049 327.542,-503.435"/>
<polygon fill="#0000ff" stroke="#0000ff" points="330.328,-505.555 333.802,-495.546 324.844,-501.204 330.328,-505.555"/>
</g>
<!-- coregflow_coreg_pre -->
<g id="node8" class="node"><title>coregflow_coreg_pre</title>
<ellipse fill="#ffe6e6" stroke="black" cx="133" cy="-469.09" rx="91.8478" ry="26.7407"/>
<text text-anchor="middle" x="133" y="-472.89" font-family="Times,serif" font-size="14.00">Initial Coregistration</text>
<text text-anchor="middle" x="133" y="-457.89" font-family="Times,serif" font-size="14.00">(FSL)</text>
</g>
<!-- motion_estimation&#45;&gt;coregflow_coreg_pre -->
<g id="edge11" class="edge"><title>motion_estimation&#45;&gt;coregflow_coreg_pre</title>
<path fill="none" stroke="#0000ff" d="M244.785,-538.167C225.251,-526.271 201.109,-511.568 180.265,-498.874"/>
<polygon fill="#0000ff" stroke="#0000ff" points="181.918,-495.783 171.557,-493.571 178.277,-501.762 181.918,-495.783"/>
</g>
<!-- coregflow_coreg_bbr -->
<g id="node9" class="node"><title>coregflow_coreg_bbr</title>
<ellipse fill="#ffe6e6" stroke="black" cx="138" cy="-379.35" rx="96.7474" ry="26.7407"/>
<text text-anchor="middle" x="138" y="-383.15" font-family="Times,serif" font-size="14.00">WM Boundary&#45;Based</text>
<text text-anchor="middle" x="138" y="-368.15" font-family="Times,serif" font-size="14.00">Registration (FSL)</text>
</g>
<!-- motion_estimation&#45;&gt;coregflow_coreg_bbr -->
<g id="edge12" class="edge"><title>motion_estimation&#45;&gt;coregflow_coreg_bbr</title>
<path fill="none" stroke="#0000ff" d="M259.271,-535.803C257.302,-532.94 255.494,-529.967 254,-526.96 236.776,-492.308 256.328,-473.826 234,-442.22 224.336,-428.541 210.598,-417.153 196.526,-408.033"/>
<polygon fill="#0000ff" stroke="#0000ff" points="198.108,-404.898 187.755,-402.648 194.446,-410.863 198.108,-404.898"/>
</g>
<!-- slice_time -->
<g id="node3" class="node"><title>slice_time</title>
<ellipse fill="#e6e6ff" stroke="black" cx="354" cy="-379.35" rx="81.135" ry="26.7407"/>
<text text-anchor="middle" x="354" y="-383.15" font-family="Times,serif" font-size="14.00">Slice Time</text>
<text text-anchor="middle" x="354" y="-368.15" font-family="Times,serif" font-size="14.00">Correction (SPM)</text>
</g>
<!-- motion_parameters&#45;&gt;slice_time -->
<g id="edge6" class="edge"><title>motion_parameters&#45;&gt;slice_time</title>
<path fill="none" stroke="none" d="M354,-441.765C354,-433.799 354,-424.908 354,-416.419"/>
<polygon fill="none" stroke="none" points="357.5,-416.354 354,-406.354 350.5,-416.354 357.5,-416.354"/>
</g>
<!-- apply_warp -->
<g id="node4" class="node"><title>apply_warp</title>
<ellipse fill="#e6e6ff" stroke="black" cx="196" cy="-289.61" rx="90.5193" ry="26.7407"/>
<text text-anchor="middle" x="196" y="-293.41" font-family="Times,serif" font-size="14.00">Spatial Interpolation</text>
<text text-anchor="middle" x="196" y="-278.41" font-family="Times,serif" font-size="14.00">(C3D &amp; ANTs)</text>
</g>
<!-- motion_parameters&#45;&gt;apply_warp -->
<g id="edge14" class="edge"><title>motion_parameters&#45;&gt;apply_warp</title>
<path fill="none" stroke="#0000ff" d="M308.586,-445.547C292.433,-435.508 275.435,-422.285 264,-406.22 247.495,-383.034 260.978,-369.273 247,-344.48 242.727,-336.901 237.157,-329.57 231.272,-322.884"/>
<polygon fill="#0000ff" stroke="#0000ff" points="233.649,-320.3 224.279,-315.356 228.521,-325.064 233.649,-320.3"/>
</g>
<!-- slice_time&#45;&gt;apply_warp -->
<g id="edge15" class="edge"><title>slice_time&#45;&gt;apply_warp</title>
<path fill="none" stroke="#0000ff" d="M313.721,-355.983C293.15,-344.559 267.924,-330.551 246.108,-318.436"/>
<polygon fill="#0000ff" stroke="#0000ff" points="247.748,-315.343 237.306,-313.548 244.35,-321.463 247.748,-315.343"/>
</g>
<!-- filterflow_warp_masks -->
<g id="node10" class="node"><title>filterflow_warp_masks</title>
<ellipse fill="#ffe6e6" stroke="black" cx="196" cy="-196.87" rx="105.218" ry="26.7407"/>
<text text-anchor="middle" x="196" y="-200.67" font-family="Times,serif" font-size="14.00">Warped Brain Masks</text>
<text text-anchor="middle" x="196" y="-185.67" font-family="Times,serif" font-size="14.00">(ANTs, FSL &amp; Nilearn)</text>
</g>
<!-- apply_warp&#45;&gt;filterflow_warp_masks -->
<g id="edge18" class="edge"><title>apply_warp&#45;&gt;filterflow_warp_masks</title>
<path fill="none" stroke="#0000ff" d="M196,-262.364C196,-253.447 196,-243.322 196,-233.782"/>
<polygon fill="#0000ff" stroke="#0000ff" points="199.5,-233.743 196,-223.744 192.5,-233.744 199.5,-233.743"/>
</g>
<!-- prepareflow_reorient -->
<g id="node5" class="node"><title>prepareflow_reorient</title>
<ellipse fill="#ffe6e6" stroke="black" cx="324" cy="-732.441" rx="95.5831" ry="18"/>
<text text-anchor="middle" x="324" y="-728.741" font-family="Times,serif" font-size="14.00">Reorient Image (Nipye)</text>
</g>
<!-- prepareflow_reorient&#45;&gt;motion_estimation -->
<g id="edge7" class="edge"><title>prepareflow_reorient&#45;&gt;motion_estimation</title>
<path fill="none" stroke="#0000ff" d="M380.44,-717.886C400.936,-709.941 421.991,-697.558 434,-678.441 448.597,-655.205 449.834,-639.111 434,-616.701 417.885,-593.892 391.251,-580.679 364.742,-573.047"/>
<polygon fill="#0000ff" stroke="#0000ff" points="365.562,-569.644 355,-570.48 363.779,-576.413 365.562,-569.644"/>
</g>
<!-- prepareflow_reorient&#45;&gt;slice_time -->
<g id="edge10" class="edge"><title>prepareflow_reorient&#45;&gt;slice_time</title>
<path fill="none" stroke="#0000ff" d="M385.064,-718.551C407.21,-710.709 430.162,-698.222 444,-678.441 504.232,-592.336 505.149,-534.013 454,-442.22 445.278,-426.567 430.781,-414.375 415.495,-405.11"/>
<polygon fill="#0000ff" stroke="#0000ff" points="416.868,-401.866 406.441,-399.989 413.422,-407.959 416.868,-401.866"/>
</g>
<!-- prepareflow_nss_detection -->
<g id="node6" class="node"><title>prepareflow_nss_detection</title>
<ellipse fill="#ffe6e6" stroke="black" cx="110" cy="-651.571" rx="86.0347" ry="26.7407"/>
<text text-anchor="middle" x="110" y="-655.371" font-family="Times,serif" font-size="14.00">Non&#45;Steady&#45;State</text>
<text text-anchor="middle" x="110" y="-640.371" font-family="Times,serif" font-size="14.00">Detection (Nipype)</text>
</g>
<!-- prepareflow_reorient&#45;&gt;prepareflow_nss_detection -->
<g id="edge1" class="edge"><title>prepareflow_reorient&#45;&gt;prepareflow_nss_detection</title>
<path fill="none" stroke="#ff0000" d="M282.485,-716.14C251.71,-704.798 209.191,-689.128 174.07,-676.184"/>
<polygon fill="#ff0000" stroke="#ff0000" points="174.969,-672.785 164.376,-672.611 172.548,-679.353 174.969,-672.785"/>
</g>
<!-- prepareflow_brain_extraction -->
<g id="node7" class="node"><title>prepareflow_brain_extraction</title>
<ellipse fill="#ffe6e6" stroke="black" cx="320" cy="-651.571" rx="105.218" ry="26.7407"/>
<text text-anchor="middle" x="320" y="-655.371" font-family="Times,serif" font-size="14.00">Create Brain Mask</text>
<text text-anchor="middle" x="320" y="-640.371" font-family="Times,serif" font-size="14.00">(ANTs, FSL &amp; Nilearn)</text>
</g>
<!-- prepareflow_reorient&#45;&gt;prepareflow_brain_extraction -->
<g id="edge2" class="edge"><title>prepareflow_reorient&#45;&gt;prepareflow_brain_extraction</title>
<path fill="none" stroke="#ff0000" d="M323.132,-714.327C322.752,-706.838 322.291,-697.746 321.841,-688.869"/>
<polygon fill="#ff0000" stroke="#ff0000" points="325.325,-688.463 321.323,-678.654 318.334,-688.818 325.325,-688.463"/>
</g>
<!-- prepareflow_nss_detection&#45;&gt;motion_estimation -->
<g id="edge9" class="edge"><title>prepareflow_nss_detection&#45;&gt;motion_estimation</title>
<path fill="none" stroke="#0000ff" d="M153.848,-628.203C177.235,-616.273 206.149,-601.524 230.589,-589.056"/>
<polygon fill="#0000ff" stroke="#0000ff" points="232.399,-592.062 239.717,-584.4 229.218,-585.826 232.399,-592.062"/>
</g>
<!-- prepareflow_nss_detection&#45;&gt;apply_warp -->
<g id="edge17" class="edge"><title>prepareflow_nss_detection&#45;&gt;apply_warp</title>
<path fill="none" stroke="#0000ff" d="M87.0519,-625.37C67.3168,-601.863 40.3001,-564.822 29,-526.96 5.80542,-449.246 -18.7403,-410.043 29,-344.48 45.6899,-321.56 72.3172,-308.185 99.4504,-300.444"/>
<polygon fill="#0000ff" stroke="#0000ff" points="100.657,-303.747 109.452,-297.84 98.893,-296.973 100.657,-303.747"/>
</g>
<!-- prepareflow_brain_extraction&#45;&gt;motion_estimation -->
<g id="edge8" class="edge"><title>prepareflow_brain_extraction&#45;&gt;motion_estimation</title>
<path fill="none" stroke="#0000ff" d="M308.804,-624.72C305.171,-616.331 301.076,-606.877 297.202,-597.93"/>
<polygon fill="#0000ff" stroke="#0000ff" points="300.302,-596.281 293.116,-588.496 293.878,-599.063 300.302,-596.281"/>
</g>
<!-- coregflow_coreg_pre&#45;&gt;coregflow_coreg_bbr -->
<g id="edge3" class="edge"><title>coregflow_coreg_pre&#45;&gt;coregflow_coreg_bbr</title>
<path fill="none" stroke="#ff0000" d="M134.5,-441.765C134.954,-433.799 135.461,-424.908 135.945,-416.419"/>
<polygon fill="#ff0000" stroke="#ff0000" points="139.443,-416.537 136.518,-406.354 132.455,-416.139 139.443,-416.537"/>
</g>
<!-- coregflow_coreg_bbr&#45;&gt;apply_warp -->
<g id="edge16" class="edge"><title>coregflow_coreg_bbr&#45;&gt;apply_warp</title>
<path fill="none" stroke="#0000ff" d="M155.088,-352.5C160.811,-343.843 167.283,-334.052 173.363,-324.855"/>
<polygon fill="#0000ff" stroke="#0000ff" points="176.439,-326.548 179.034,-316.276 170.6,-322.688 176.439,-326.548"/>
</g>
<!-- filterflow_temporal_filter -->
<g id="node11" class="node"><title>filterflow_temporal_filter</title>
<polygon fill="#d9d9d9" stroke="black" points="254,-134 142,-134 138,-130 138,-96 250,-96 254,-100 254,-134"/>
<polyline fill="none" stroke="black" points="250,-130 138,-130 "/>
<polyline fill="none" stroke="black" points="250,-130 250,-96 "/>
<polyline fill="none" stroke="black" points="250,-130 254,-134 "/>
<text text-anchor="middle" x="196" y="-118.8" font-family="Times,serif" font-size="14.00">Temporal Filter</text>
<text text-anchor="middle" x="196" y="-103.8" font-family="Times,serif" font-size="14.00">(AFNI &amp; Nilearn)</text>
</g>
<!-- filterflow_warp_masks&#45;&gt;filterflow_temporal_filter -->
<g id="edge4" class="edge"><title>filterflow_warp_masks&#45;&gt;filterflow_temporal_filter</title>
<path fill="none" stroke="#ff0000" d="M196,-169.718C196,-161.529 196,-152.458 196,-144.138"/>
<polygon fill="#ff0000" stroke="#ff0000" points="199.5,-144.124 196,-134.124 192.5,-144.124 199.5,-144.124"/>
</g>
<!-- filterflow_spatial_filter -->
<g id="node12" class="node"><title>filterflow_spatial_filter</title>
<polygon fill="#d9d9d9" stroke="black" points="266,-60 130,-60 126,-56 126,-24 262,-24 266,-28 266,-60"/>
<polyline fill="none" stroke="black" points="262,-56 126,-56 "/>
<polyline fill="none" stroke="black" points="262,-56 262,-24 "/>
<polyline fill="none" stroke="black" points="262,-56 266,-60 "/>
<text text-anchor="middle" x="196" y="-38.3" font-family="Times,serif" font-size="14.00">Spatial Filter (Nilearn)</text>
</g>
<!-- filterflow_temporal_filter&#45;&gt;filterflow_spatial_filter -->
<g id="edge5" class="edge"><title>filterflow_temporal_filter&#45;&gt;filterflow_spatial_filter</title>
<path fill="none" stroke="#ff0000" d="M196,-95.7157C196,-87.9733 196,-78.7894 196,-70.2737"/>
<polygon fill="#ff0000" stroke="#ff0000" points="199.5,-70.0034 196,-60.0034 192.5,-70.0035 199.5,-70.0034"/>
</g>
</g>
</svg>
